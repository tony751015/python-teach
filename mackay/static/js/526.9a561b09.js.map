{"version":3,"file":"js/526.9a561b09.js","mappings":"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","sources":["webpack://wound-chat/./src/common/progessLoading.vue","webpack://wound-chat/src/common/progessLoading.vue","webpack://wound-chat/./src/common/progessLoading.vue?54c0","webpack://wound-chat/./src/common/progessLoading.vue?0a03","webpack://wound-chat/./src/views/WoundChat.vue","webpack://wound-chat/./src/components/ChatWindows.vue","webpack://wound-chat/./src/components/ChatMessage.vue","webpack://wound-chat/src/components/ChatMessage.vue","webpack://wound-chat/./src/components/ChatMessage.vue?8df2","webpack://wound-chat/./src/components/ChatMessage.vue?8f4c","webpack://wound-chat/./src/components/UploadImage.vue","webpack://wound-chat/src/components/UploadImage.vue","webpack://wound-chat/./src/components/UploadImage.vue?c8a3","webpack://wound-chat/./src/components/UploadImage.vue?1dda","webpack://wound-chat/src/components/ChatWindows.vue","webpack://wound-chat/./src/components/ChatWindows.vue?5271","webpack://wound-chat/./src/components/ChatWindows.vue?e78e","webpack://wound-chat/src/views/WoundChat.vue","webpack://wound-chat/./src/views/WoundChat.vue?11f5","webpack://wound-chat/./src/views/WoundChat.vue?3290","webpack://wound-chat/../../../src/components/VGrid/VLayout.ts","webpack://wound-chat/./node_modules/core-js/internals/classof.js","webpack://wound-chat/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://wound-chat/./node_modules/core-js/internals/to-string-tag-support.js","webpack://wound-chat/./node_modules/core-js/internals/to-string.js","webpack://wound-chat/./node_modules/core-js/internals/validate-arguments-length.js","webpack://wound-chat/./node_modules/core-js/modules/web.url-search-params.delete.js","webpack://wound-chat/./node_modules/core-js/modules/web.url-search-params.has.js","webpack://wound-chat/./node_modules/core-js/modules/web.url-search-params.size.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"hide-overlay\":\"\",\"persistent\":\"\",\"width\":\"300\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{attrs:{\"color\":\"point-1\",\"elevation\":\"1\"}},[_c('v-card-text',{staticClass:\"loading-text\"},[_vm._v(\" \"+_vm._s(_vm.showText)+\" \"),_c('v-progress-linear',{staticClass:\"mb-0\",attrs:{\"indeterminate\":\"\",\"color\":\"main-green\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<v-dialog\r\n  v-model=\"dialog\"\r\n  hide-overlay\r\n  persistent\r\n  width=\"300\"\r\n>\r\n  <v-card\r\n    color=\"point-1\"\r\n    elevation=\"1\"\r\n  >\r\n    <v-card-text class=\"loading-text\">\r\n      {{ showText }}\r\n      <v-progress-linear\r\n        indeterminate\r\n        color=\"main-green\"\r\n        class=\"mb-0\"\r\n      ></v-progress-linear>\r\n    </v-card-text>\r\n  </v-card>\r\n</v-dialog>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: {\r\n      showText: String,\r\n      active: Boolean,\r\n    },\r\n    \r\n\r\n    data() {\r\n      return {\r\n        dialog: this.active\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .v-dialog {\r\n    box-shadow: 1px 1px 5px #181717 !important;\r\n  }\r\n  .loading-text {\r\n    color:#2D9CA0 !important;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./progessLoading.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./progessLoading.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./progessLoading.vue?vue&type=template&id=10136c39&scoped=true\"\nimport script from \"./progessLoading.vue?vue&type=script&lang=js\"\nexport * from \"./progessLoading.vue?vue&type=script&lang=js\"\nimport style0 from \"./progessLoading.vue?vue&type=style&index=0&id=10136c39&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10136c39\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',[_c('v-app-bar',{attrs:{\"color\":\"main-green\",\"elevation\":\"0\",\"dense\":\"\"}},[_c('v-responsive',{staticClass:\"d-sm-none\"},[_c('v-app-bar-nav-icon')],1),_c('img',{staticClass:\"main-logo\",attrs:{\"src\":require(\"../assets/logo_dr.png\"),\"alt\":\"logo\"}}),_c('v-spacer',[[_c('v-tabs',{attrs:{\"align-with-title\":\"\",\"background-color\":\"transparent\"}})]],2),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"dropdown-btn\",attrs:{\"rounded\":\"\",\"color\":\"normal\"}},'v-btn',attrs,false),on),[_c('v-avatar',{attrs:{\"size\":\"30\"}},[_c('v-img',{attrs:{\"src\":_vm.thumb_avatar}})],1),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm.username))]),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-chevron-down\")])],1)]}}])},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',[_c('v-list-item-title',{staticClass:\"logoutBtn\",on:{\"click\":_vm.logout}},[_vm._v(\"log out\")])],1)],1)],1)],1),_c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{staticClass:\"chat-section\",attrs:{\"cols\":\"8\"}},[_c('v-toolbar',{staticClass:\"w-100\",attrs:{\"flat\":\"\",\"dense\":\"\"}},[_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-magnify\",\"label\":\"Search for a chat\",\"dense\":\"\",\"outlined\":\"\",\"color\":\"main-green\",\"placeholder\":\"Search for a chat\",\"hide-details\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.performSearch.apply(null, arguments)},\"input\":_vm.onInput},model:{value:(_vm.searchChat),callback:function ($$v) {_vm.searchChat=$$v},expression:\"searchChat\"}}),(_vm.searchResults.length > 0 || _vm.noResults)?_c('v-list',{staticClass:\"search-results-list\"},[(_vm.searchResults.length > 0)?_vm._l((_vm.searchResults),function(result,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){return _vm.scrollToMessage(result.index)}}},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(result.content))])],1)],1)}):[_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"No records found\")])],1)],1)]],2):_vm._e()],1),_c('chat-windows',{ref:\"chatWindows\",staticClass:\"chatWindows\"})],1),_c('wound-photos',{attrs:{\"albums\":_vm.albums,\"current-album\":_vm.currentAlbum,\"selected-patient-id\":_vm.userProfile.id},on:{\"update:currentAlbum\":function($event){_vm.currentAlbum=$event},\"update:current-album\":[function($event){_vm.currentAlbum=$event},_vm.updateCurrentAlbum]}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{staticClass:\"chat-container\"},[_c('v-dialog',{attrs:{\"width\":\"200\"},model:{value:(_vm.detectError),callback:function ($$v) {_vm.detectError=$$v},expression:\"detectError\"}},[_c('v-alert',{attrs:{\"dense\":\"\",\"type\":\"error\"}},[_vm._v(\" Error \")])],1),_c('div',{staticClass:\"px-3\"},[_c('ProgressLoader',{key:_vm.activeKey,attrs:{\"showText\":`LOADING...`,\"active\":_vm.activeProgress}}),_c('div',{ref:\"chatWindow\",staticClass:\"chat-window\"},[_c('infinite-loading',{attrs:{\"direction\":\"top\",\"identifier\":_vm.infiniteId},on:{\"infinite\":_vm.infiniteHandler}},[_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"},[_vm._v(\"There are no more comments\")]),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"},[_vm._v(\"There are no more comments\")])]),_vm._l((_vm.messages),function(msg,index){return _c('chat-message',{key:index,attrs:{\"is_carer_user\":msg.is_carer_user,\"content_type\":msg.content_type,\"user_name\":msg.user_name,\"content\":msg.content,\"media_url\":msg.media_url,\"isFirstDate\":msg.isFirstDate},on:{\"image-click\":function($event){return _vm.openImagePopup(`${_vm.SERVER_PATH}media/${msg.media_url}`)},\"image-click2\":function($event){return _vm.openImagePopup(msg.media_url)}}})})],2)],1),_c('div',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-text-field',{staticClass:\"message-input mb-13 mx-3\",attrs:{\"placeholder\":\"Type your message here\",\"outlined\":\"\",\"hint\":\"Shift + Enter for a new line, Enter to send: \",\"persistent-hint\":\"\",\"append-icon\":\"mdi-emoticon-outline\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.sendMessage.apply(null, arguments)}},model:{value:(_vm.newMessage),callback:function ($$v) {_vm.newMessage=$$v},expression:\"newMessage\"}}),_c('v-btn',{staticClass:\"send-btn px-1 mr-1\",attrs:{\"elevation\":\"0\",\"color\":\"white\"},on:{\"click\":_vm.sendMessage}},[_c('v-icon',{attrs:{\"color\":\"main-green\"}},[_vm._v(\"mdi-send\")])],1),_c('v-btn',{staticClass:\"upload-btn main-green\",attrs:{\"elevation\":\"0\",\"color\":\"primary\"},on:{\"click\":_vm.openUploadImage}},[_c('v-icon',[_vm._v(\"mdi-paperclip\")]),_vm._v(\" Upload \")],1)],1)],1),_c('ImagePopup',{key:`imgpop-${_vm.popImgKey}`,attrs:{\"image\":_vm.selectedImage,\"visible\":_vm.imagePopupVisible},on:{\"close\":_vm.closeImagePopup}}),_c('UploadImage',{key:`imgupload-${_vm.uploadImgKey}`,attrs:{\"activeUpload\":_vm.uploadImage},on:{\"close\":_vm.closeUploadImage,\"update:visible\":_vm.updateVisible,\"message-uploaded\":_vm.handleMessageUploaded}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"date-divider text-center grey--text\"},[_vm._v(_vm._s(_vm.isFirstDate))]),_c('v-row',{class:_vm.alignmentClass,staticStyle:{\"margin\":\"0\"}},[(_vm.content_type === 'text')?_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-card',{class:[_vm.messageClass, 'mr-4'],attrs:{\"flat\":\"\"}},[_c('v-card-text',{staticClass:\"font-weight-bold\",domProps:{\"innerHTML\":_vm._s(_vm.contentRegexMatchURL)}})],1)],1):(_vm.content_type === 'image')?_c('v-col',{key:_vm.media_url,staticClass:\"img_col\",attrs:{\"cols\":\"5\"}},[_c('v-card',{class:[_vm.messageClass, 'mr-4'],attrs:{\"color\":\"point-1\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":`${_vm.SERVER_PATH}media/${_vm.media_url}`},on:{\"click\":function($event){return _vm.$emit('image-click', `${_vm.SERVER_PATH}media/${_vm.media_url}`)}}})])],1):(_vm.content_type === 'image2')?_c('v-col',{key:_vm.media_url,staticClass:\"img_col\",attrs:{\"cols\":\"5\"}},[_c('v-card',{class:[_vm.messageClass, 'mr-4'],attrs:{\"color\":\"point-1\",\"flat\":\"\"}},[_c('img',{attrs:{\"src\":_vm.media_url},on:{\"click\":function($event){return _vm.$emit('image-click2', _vm.media_url)}}})])],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"date-divider text-center grey--text\">{{ isFirstDate }}</div>\r\n    <v-row :class=\"alignmentClass\" style=\"margin: 0;\">\r\n      <v-col cols=\"auto\" v-if=\"content_type === 'text'\">\r\n        <v-card \r\n          :class=\"[messageClass, 'mr-4']\"\r\n          flat>\r\n          <v-card-text\r\n            class=\"font-weight-bold\" v-html=\"contentRegexMatchURL\"></v-card-text>\r\n        </v-card>\r\n        \r\n      </v-col>\r\n      <v-col cols=\"5\" :key=\"media_url\" class=\"img_col\"  v-else-if=\"content_type === 'image'\">\r\n        <v-card \r\n          color=\"point-1\"\r\n          :class=\"[messageClass, 'mr-4']\"\r\n          flat>\r\n            <img :src=\"`${SERVER_PATH}media/${media_url}`\" @click=\"$emit('image-click', `${SERVER_PATH}media/${media_url}`)\" />\r\n        </v-card>\r\n      </v-col>\r\n      <v-col cols=\"5\" :key=\"media_url\" class=\"img_col\"  v-else-if=\"content_type === 'image2'\">\r\n        <v-card \r\n          color=\"point-1\"\r\n          :class=\"[messageClass, 'mr-4']\"\r\n          flat>\r\n            <img :src=\"media_url\" @click=\"$emit('image-click2', media_url)\" />\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>  \r\n  </div>\r\n  \r\n</template>\r\n  \r\n<script>\r\n\r\nexport default {\r\n  name: 'ChatMessage',\r\n\r\n  props: {\r\n    is_carer_user: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n    content_type: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    user_name: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    content: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    media_url: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    isFirstDate: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    contentRegexMatchURL: function() {\r\n      let newContent = this.content;\r\n      // eslint-disable-next-line\r\n      /* eslint-disable-next-line */\r\n      const urlRegex = /https?:\\/\\/(?:www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&\\/=]*)/g;\r\n      const matchURL = newContent.match(urlRegex);\r\n      if (matchURL) {\r\n        newContent = newContent.replace(urlRegex, `<a style=\"margin: 0 5px;\" href=\"${matchURL[0]}\" target=\"_blank\">${matchURL[0]}</a>`);\r\n      }\r\n      return newContent;\r\n    },\r\n    alignmentClass() {\r\n      // alert(this.is_carer_user);\r\n      const isSuperUser = this.$root.userProfile?.super_user;\r\n      if (isSuperUser) {\r\n        return this.is_carer_user ? 'justify-end' : 'justify-start';\r\n        // return this.is_carer_user ? 'justify-start' : 'justify-end';\r\n      } else {\r\n        return this.is_carer_user ? 'justify-start' : 'justify-end';\r\n        // return this.is_carer_user ? 'justify-end' : 'justify-start';\r\n      }\r\n    },\r\n    messageClass() {\r\n      const isSuperUser = this.$root.userProfile?.super_user;\r\n      if (isSuperUser) {\r\n        return this.is_carer_user ? 'own-message' : 'other-message';\r\n        // return this.is_carer_user ? 'other-message' : 'own-message';\r\n      } else {\r\n        return this.is_carer_user ? 'other-message' : 'own-message';\r\n        // return this.is_carer_user ? 'own-message' : 'other-message';\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.col-auto{\r\n  max-width: 75%;\r\n  padding: 0;\r\n}\r\n.justify-start{\r\n  .img_col{\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    padding-left: 0px;\r\n  }\r\n}\r\n.justify-end{\r\n  .img_col{\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    padding-right: 0px;\r\n  }\r\n}\r\n\r\n.img_col .v-card{\r\n  line-height: 0 !important;\r\n}\r\n.img_col img{\r\n  max-height: 450px;\r\n}\r\n.v-card__text {\r\n  padding: 10px 15px;\r\n  overflow-wrap: break-word;\r\n  word-wrap:break-word;\r\n  word-break:break-all;\r\n}\r\n\r\n.own-message {\r\n  background-color: #000 !important;\r\n  color: #fff;\r\n  border-radius: 16px 16px 0 16px;\r\n  margin: 5px 0;\r\n  /* margin-right: 15px; */\r\n}\r\n.own-message .v-card__text{\r\n  color: #FFF;\r\n}\r\n\r\n.other-message {\r\n  background-color: #f8f8f8;\r\n  border: 1px solid #ddd;\r\n  border-radius: 16px 16px 16px 0;\r\n  margin: 5px 0;\r\n}\r\n\r\n.date-divider {\r\n  color: #aaa;\r\n}\r\nimg {\r\n  max-width: 100%;\r\n  height: auto;\r\n  border-radius: 10px;\r\n  // margin-top: 10px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatMessage.vue?vue&type=template&id=390f69ea&scoped=true\"\nimport script from \"./ChatMessage.vue?vue&type=script&lang=js\"\nexport * from \"./ChatMessage.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatMessage.vue?vue&type=style&index=0&id=390f69ea&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"390f69ea\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"max-width\":\"500px\",\"scrollable\":\"\"},model:{value:(_vm.uploadImage),callback:function ($$v) {_vm.uploadImage=$$v},expression:\"uploadImage\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"font-large font-weight-bold text-center\"},[_vm._v(\" Please upload a photo of the wound \"),_c('span',{staticClass:\"font-weight-regular font-small grey--text\"},[_vm._v(\"Only accept JPG and PNG image files(Max: 8MB)\")])]),_c('v-card-text',[_c('v-container',{staticClass:\"uploader-area\",class:{ 'is-dragging': _vm.fileOnDrag }},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.filePreviewSrc),expression:\"filePreviewSrc\"}],staticClass:\"uploader-preview\"},[_c('v-btn',{staticClass:\"uploader-remove-btn\",on:{\"click\":_vm.handleResetInput}},[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-trash-can-outline\")])],1),_c('v-img',{attrs:{\"src\":_vm.filePreviewSrc,\"contain\":\"\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.filePreviewSrc),expression:\"!filePreviewSrc\"}]},[_c('input',{ref:\"fileInput\",staticClass:\"uploader-input\",attrs:{\"type\":\"file\",\"accept\":\"image/jpeg, image/png\"},on:{\"dragenter\":_vm.handleDragEnter,\"dragleave\":_vm.handleDragEnter,\"dragdrop\":_vm.handleDragDrop,\"change\":_vm.handleInputChange}}),_c('div',{staticClass:\"uploader-interface\"},[_c('v-icon',{attrs:{\"size\":\"40\",\"color\":\"#dcdcdc\"}},[_vm._v(\"mdi-cloud-upload-outline\")]),_c('p',{class:{ 'error-message': _vm.showErrorMsg }},[_vm._v(_vm._s(_vm.fileTips))]),_c('p',{staticClass:\"text-caption text-grey--text\"},[_vm._v(\"Only accept JPG and PNG image files，Max: 8MB\")])],1)])])],1),_c('v-card-actions',{staticClass:\"justify-end\"},[_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"v-dark\"},on:{\"click\":_vm.handleClose}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"disabled\":!_vm.canUpload},on:{\"click\":_vm.startUpload}},[(_vm.showLoading)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"white\",\"size\":\"20\"}}):_c('span',[_vm._v(\"Submit upload\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-dialog v-model=\"uploadImage\" max-width=\"500px\" scrollable>\r\n      <v-card>\r\n        <v-card-title class=\"font-large font-weight-bold text-center\">\r\n          Please upload a photo of the wound\r\n          <span class=\"font-weight-regular font-small grey--text\">Only accept JPG and PNG image files(Max: 8MB)</span>\r\n        </v-card-title>\r\n        \r\n        <v-card-text>\r\n            <v-container\r\n                class=\"uploader-area\"\r\n                :class=\"{ 'is-dragging': fileOnDrag }\"\r\n                >\r\n                <!-- @click=\"triggerFileInput\" -->\r\n                <!-- @click=\"triggerFileInput\" 點擊作用區 -->\r\n                <!-- 隱藏的 input -->\r\n                \r\n                <!-- 預覽圖顯示區 -->\r\n                <div v-show=\"filePreviewSrc\" class=\"uploader-preview\">\r\n                  <v-btn class=\"uploader-remove-btn\" @click='handleResetInput'>\r\n                    <v-icon color=\"primary\">mdi-trash-can-outline</v-icon>\r\n                  </v-btn>\r\n                  <v-img :src=\"filePreviewSrc\" contain></v-img>\r\n                </div>\r\n\r\n                <div v-show=\"!filePreviewSrc\">\r\n                  <input\r\n                    ref=\"fileInput\"\r\n                    type=\"file\"\r\n                    accept=\"image/jpeg, image/png\"\r\n                    class=\"uploader-input\"\r\n                    @dragenter='handleDragEnter'\r\n                    @dragleave='handleDragEnter'\r\n                    @dragdrop='handleDragDrop'\r\n                    @change='handleInputChange'/>\r\n                 \r\n                  <!-- 防呆訊息顯示區 -->\r\n                  <div class=\"uploader-interface\">\r\n                    <v-icon size=\"40\" color=\"#dcdcdc\">mdi-cloud-upload-outline</v-icon>\r\n                    <p :class=\"{ 'error-message': showErrorMsg }\">{{ fileTips }}</p>\r\n                    <p class=\"text-caption text-grey--text\">Only accept JPG and PNG image files，Max: 8MB</p>\r\n                  </div>\r\n                </div>\r\n            </v-container>\r\n        </v-card-text>\r\n  \r\n        <v-card-actions class=\"justify-end\">\r\n          <v-btn text color=\"v-dark\" @click=\"handleClose\">Cancel</v-btn>\r\n          <v-btn color=\"primary\" text :disabled=\"!canUpload\" @click=\"startUpload\">\r\n            <v-progress-circular\r\n              v-if=\"showLoading\"\r\n              indeterminate\r\n              color=\"white\"\r\n              size=\"20\"\r\n            ></v-progress-circular>\r\n            <span v-else>Submit upload</span>\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from \"axios\";\r\n\r\n  export default {\r\n    props: {\r\n      activeUpload: Boolean\r\n    },\r\n    data() {\r\n      return {\r\n        uploadImage: this.activeUpload,\r\n        file: null, // 上傳檔案物件\r\n        filePreviewSrc: \"\", // 圖片預覽 URL\r\n        fileOnDrag: false, // 是否處於拖曳狀態\r\n        fileTips: \"Drag and drop or click to upload images\", // 提示訊息\r\n        showErrorMsg: false, // 是否顯示錯誤訊息\r\n        canUpload: false, // 是否允許上傳\r\n        showLoading: false, // 傳送按鈕的載入狀態\r\n        \r\n      };\r\n    },\r\n    methods: {\r\n        startUpload() {\r\n          let userId;\r\n          const getJWTData = JSON.parse(localStorage.getItem('mackay'));\r\n          if (this.storeUserId) {\r\n            userId = this.storeUserId;\r\n          } else {\r\n            userId = getJWTData.user_id;\r\n          }\r\n          const isCarerUser = this.userProfile.super_user === true ? '1' : '0';\r\n\r\n          const formData = new FormData();\r\n          const ts = new Date().getTime();\r\n          console.log('this.file', this.file);\r\n\r\n          formData.append('user_id', userId);\r\n          formData.append('is_carer_user', isCarerUser); // 根據 super_user 設置\r\n          formData.append('photo_upload', this.file, `${userId}_${ts}.${this.file.type.split('/')[1]}`);\r\n          axios.post('http://127.0.0.1:8000/api/chat/upload', formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data',\r\n            },\r\n          })\r\n          .then((response) => {\r\n            console.log('Message sent successfully:', response.data);\r\n            this.uploadImage = false;\r\n            const user_name = this.userProfile.name || '您';\r\n            const messageData = {\r\n              is_carer_user: isCarerUser === '1',\r\n              user_name: user_name,\r\n              media_url: this.filePreviewSrc,\r\n              content_type: 'image2',\r\n              content: '',\r\n              isFirstDate: '',\r\n            };\r\n            this.$emit('message-uploaded', messageData);\r\n            this.$root.$emit('upload-success');\r\n          })\r\n          .catch((err) => {\r\n            console.error('Error sending message:', err);\r\n          });\r\n        },\r\n\r\n        triggerFileInput() {\r\n            // 點擊觸發隱藏的文件選擇器\r\n            this.$refs.fileInput.click();\r\n        },\r\n        handleResetInput() {\r\n          console.log('handleResetInput', this.$refs.fileInput)\r\n          this.canUpload = false;\r\n          this.$refs.fileInput.value = '';\r\n          this.filePreviewSrc = '';\r\n          this.fileTips = this.$options.data().fileTips;\r\n        },\r\n        handleInputChange(event) {\r\n            const file = event.target.files[0];\r\n            if (file) {\r\n              this.handleUploadFile(file);\r\n            }\r\n        },\r\n        handleUploadFile(file) {\r\n            this.fileOnDrag = false;\r\n            this.showErrorMsg = false;\r\n\r\n            if (file.type === \"image/jpeg\" || file.type === \"image/png\") {\r\n              const _URL = window.URL || window.webkitURL;\r\n              const img = new Image();\r\n              img.src = _URL.createObjectURL(file);\r\n\r\n              img.onload = () => {\r\n                if (file.size < 8000 * 1024) {\r\n                  this.fileTips = file.name;\r\n                  this.canUpload = true;\r\n                  this.filePreviewSrc = img.src; // 設置圖片預覽\r\n                  this.file = file; // 設置上傳檔案物件\r\n                } else {\r\n                  this.showErrorMsg = true;\r\n                  this.fileTips = \"File size must be under 8MB\";\r\n                  this.file = null;\r\n                }\r\n              };\r\n            } else {\r\n              this.showErrorMsg = true;\r\n              this.fileTips = \"File format is not supported\";\r\n            }\r\n        },\r\n        handleDragEnter(event) {\r\n            event.preventDefault();\r\n            this.fileOnDrag = true;\r\n        },\r\n        handleDragLeave() {\r\n            this.fileOnDrag = false;\r\n        },\r\n        handleDragDrop(event) {\r\n            event.preventDefault();\r\n            this.fileOnDrag = false;\r\n            const files = event.dataTransfer.files;\r\n            if (files && files.length > 0) {\r\n            const file = files[0];\r\n            this.handleUploadFile(file);\r\n            }\r\n        },\r\n        handleChange(file) {\r\n            this.handleUploadFile(file);\r\n        },\r\n\r\n        handleClose() {\r\n            this.uploadImage = false;\r\n        },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n\r\n  <style scoped>\r\n  .uploader-area {\r\n    position: relative;\r\n    border: 2px dashed #dcdcdc;\r\n    border-radius: 8px;\r\n    padding: 16px;\r\n    text-align: center;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: border-color 0.2s ease;\r\n    min-height: 200px; /* 增加區域高度 */\r\n  }\r\n/* \r\n  .headline {\r\n    font-size: 13px;\r\n  } */\r\n\r\n  .uploader-input {\r\n    position: absolute;\r\n    top: 0;\r\n    text-indent: -9999px;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n  }\r\n  \r\n  .uploader-area.is-dragging {\r\n    border-color: #42a5f5;\r\n  }\r\n  \r\n  .uploader-preview {\r\n    display: flex;\r\n    justify-content: center;\r\n    width: 100%;\r\n  }\r\n\r\n  .v-btn.uploader-remove-btn {\r\n    position: absolute;\r\n    z-index: 30;\r\n    bottom: 10px;\r\n    right: 10px;\r\n    width: 40px;\r\n    height: 40px;\r\n    min-width: unset;\r\n    border-radius: 50%;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .image-preview {\r\n    width: 400px; /* 固定寬度為 400px */\r\n    height: calc(400px * 0.75); /* 高度為寬度的 75% (4:3 比例) */\r\n    object-fit: contain; /* 確保圖片完整呈現 */\r\n    border-radius: 8px; /* 圓角效果（視需要調整） */\r\n    border: 1px solid #dcdcdc; /* 添加邊框讓預覽更清晰 */\r\n  }\r\n    \r\n  .uploader-interface {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .uploader-interface p {\r\n    margin: 4px 0;\r\n  }\r\n  \r\n  .error-message {\r\n    color: #f44336;\r\n  }\r\n  </style>\r\n  ","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UploadImage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UploadImage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UploadImage.vue?vue&type=template&id=46cb4903&scoped=true\"\nimport script from \"./UploadImage.vue?vue&type=script&lang=js\"\nexport * from \"./UploadImage.vue?vue&type=script&lang=js\"\nimport style0 from \"./UploadImage.vue?vue&type=style&index=0&id=46cb4903&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46cb4903\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-container class=\"chat-container\">\r\n    <v-dialog v-model=\"detectError\" width=\"200\">\r\n      <v-alert dense type=\"error\"> Error </v-alert>\r\n    </v-dialog>\r\n\r\n    <div class=\"px-3\">\r\n      <ProgressLoader :key='activeKey' :showText=\"`LOADING...`\" :active=\"activeProgress\"></ProgressLoader>\r\n      \r\n      <div ref=\"chatWindow\" class=\"chat-window\">\r\n        <infinite-loading direction=\"top\" @infinite=\"infiniteHandler\" :identifier='infiniteId'>\r\n          <div slot=\"no-more\">There are no more comments</div>\r\n          <div slot=\"no-results\">There are no more comments</div>\r\n        </infinite-loading>\r\n\r\n        <chat-message\r\n          v-for=\"(msg, index) in messages\"\r\n          :key=\"index\"\r\n          :is_carer_user=\"msg.is_carer_user\"\r\n          :content_type=\"msg.content_type\"\r\n          :user_name=\"msg.user_name\"\r\n          :content=\"msg.content\"\r\n          :media_url=\"msg.media_url\"\r\n          :isFirstDate=\"msg.isFirstDate\"\r\n          @image-click=\"openImagePopup(`${SERVER_PATH}media/${msg.media_url}`)\" \r\n          @image-click2=\"openImagePopup(msg.media_url)\"\r\n        ></chat-message>\r\n        <!-- image-click2解決測試時路徑用 -->\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <v-layout row>\r\n        <v-text-field\r\n          v-model=\"newMessage\"\r\n          placeholder=\"Type your message here\"\r\n          outlined\r\n          hint=\"Shift + Enter for a new line, Enter to send: \"\r\n          persistent-hint\r\n          append-icon=\"mdi-emoticon-outline\"\r\n          @keyup.enter=\"sendMessage\"\r\n          class=\"message-input mb-13 mx-3\"\r\n        >\r\n        </v-text-field>\r\n        <v-btn @click=\"sendMessage\" elevation=\"0\" color=\"white\" class=\"send-btn px-1 mr-1\" >\r\n            <v-icon color=\"main-green\">mdi-send</v-icon>\r\n        </v-btn>\r\n        <v-btn @click=\"openUploadImage\" elevation=\"0\" color=\"primary\" class=\"upload-btn main-green\">\r\n          <v-icon>mdi-paperclip</v-icon>\r\n          Upload\r\n        </v-btn>\r\n      </v-layout>\r\n      \r\n    </div>\r\n\r\n    <!-- 圖片彈窗 -->\r\n    <!-- <v-dialog v-model=\"imagePopupVisible\" max-width=\"none\" persistent>\r\n      <v-card class=\"image-popup\">\r\n        <v-btn icon @click=\"closeImagePopup\" class=\"close-btn\">\r\n          <v-icon>mdi-close</v-icon>\r\n        </v-btn>\r\n        <v-img :src=\"selectedImage\" class=\"popup-img\"></v-img>\r\n      </v-card>\r\n    </v-dialog> -->\r\n    <ImagePopup\r\n      :key=\"`imgpop-${popImgKey}`\"\r\n      :image=\"selectedImage\"\r\n      :visible=\"imagePopupVisible\"\r\n      @close=\"closeImagePopup\">\r\n    </ImagePopup>\r\n\r\n    <UploadImage \r\n      :key=\"`imgupload-${uploadImgKey}`\"\r\n      :activeUpload=\"uploadImage\"\r\n      @close=\"closeUploadImage\"\r\n      @update:visible=\"updateVisible\"\r\n      @message-uploaded=\"handleMessageUploaded\">\r\n    </UploadImage>\r\n\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport ChatMessage from './ChatMessage.vue';\r\nimport ProgressLoader from '../common/progessLoading.vue';\r\nimport ImagePopup from './ImagePopup.vue';\r\nimport UploadImage from './UploadImage.vue';\r\nconst GET_API_URL = 'http://127.0.0.1:8000/api/chat/list?';\r\nexport default {\r\n  name: 'ChatWindows',\r\n  components: {\r\n    ImagePopup,\r\n    ChatMessage,\r\n    ProgressLoader,\r\n    UploadImage\r\n  },\r\n  data() {\r\n    return {\r\n      newMessage: '',\r\n      selectedImage: '',\r\n      messages: [],\r\n      \r\n      user_name: '',  // 儲存使用者名稱\r\n      user_id: null,\r\n      \r\n      preloader: true,\r\n      imagePopupVisible: false,\r\n      activeProgress: false,\r\n      detectError: false,\r\n      uploadImage: false,\r\n      \r\n      page: 1,\r\n      popImgKey: 1,\r\n      uploadImgKey: 1,\r\n      activeKey: 1,\r\n      infiniteId: 1,\r\n    };\r\n  },\r\n  created() {\r\n    this.activeProgress = true;\r\n    // setTimeout(() => {\r\n    this.$route.params.id ? this.fetchMessages() : this.routerRedirectTo404();\r\n    // }, 500);\r\n    // if (this.$route.query.code && this.$route.query.state) {\r\n\r\n    //   axios.post('http://127.0.0.1:8000/api/member/line_login', {\r\n    //       code: this.$route.query.code,\r\n    //       state: this.$route.query.state,  // 自己發送的訊息\r\n    //     })\r\n    //     .then((res) => {\r\n    //       localStorage.setItem('mackay', JSON.stringify(res.data.jwt_token));\r\n    //       console.log('LINE LOGIN Success:');\r\n    //     })\r\n    //     .catch((err) => {\r\n    //       console.error('LINE LOGIN Failed:', err);\r\n    //     });\r\n    // }\r\n  },\r\n  // mounted() {\r\n    // 頁面初次加載時滾動到底部\r\n    // this.$nextTick(() => {\r\n    //   const chatWindow = this.$refs.chatWindow;\r\n    //   if (chatWindow) {\r\n    //     chatWindow.scrollTop = chatWindow.scrollHeight;\r\n    //   }\r\n    // });\r\n  // },\r\n  // watch: {\r\n    // messages() {\r\n    //   // 當 messages 更新時，滾動到底部\r\n    //   this.$nextTick(() => {\r\n    //     const chatWindow = this.$refs.chatWindow;\r\n    //     if (chatWindow) {\r\n    //       chatWindow.scrollTop = chatWindow.scrollHeight;\r\n    //     }\r\n    //   });\r\n    // }\r\n  // },\r\n  methods: {\r\n    // 獲取訊息列表\r\n    fetchMessages() {\r\n      let userId\r\n      let fetch_user_id\r\n      const getJWTData = JSON.parse(localStorage.getItem('mackay'));\r\n      if (this.userProfile.super_user){\r\n         fetch_user_id = this.storeUserId\r\n      }else {\r\n         fetch_user_id = this.userProfile.id\r\n      }\r\n      if (fetch_user_id) {\r\n        userId = fetch_user_id\r\n      }else {\r\n        userId = getJWTData.user_id\r\n      }\r\n      console.log('fetchMessages', this.userProfile.id, this.storeUserId);\r\n      // if (this.userProfile.id !== this.$route.params.id) {\r\n      //   alert('Wrong User');\r\n      //   this.routerRedirectTo404();\r\n      //   return;\r\n      // }\r\n      const chatRoomId = this.$route.params.id.split('-')[0];\r\n      \r\n      if (!this.userProfile.super_user) {\r\n            if (userId != chatRoomId) {\r\n              // alert('Wrong User');\r\n              this.routerRedirectTo404();\r\n              return;\r\n            \r\n          }\r\n        }\r\n\r\n      console.log('fetchMessages 1', userId)\r\n      // axios.get('http://127.0.0.1:8000/api/chat/list?user_id=1&page=' + this.page + '&size=15')\r\n      axios.get(GET_API_URL,{\r\n        params: {\r\n          user_id: userId,\r\n          page: this.page,\r\n          size: 3\r\n        }\r\n      })\r\n        .then((res) => {\r\n          if (!res.data.count) {\r\n            this.user_name = '';\r\n          } else {\r\n            this.user_name = res.data.results[0].user_name;\r\n            // localStorage.setItem('user_name', this.user_name);\r\n          }\r\n\r\n          // console.log(JSON.stringify(res.data));\r\n          this.preloader = false;\r\n          // console.log('fetchMessages 2', this.page);\r\n          this.messages = res.data.results.slice().reverse();\r\n          // this.user_name = res.data.results[0].user_name;\r\n          // localStorage.setItem('user_name', this.user_name);\r\n          this.page += 1;\r\n          this.infiniteId += 1;\r\n\r\n          if (!res.data.count) {\r\n            this.user_name = '';\r\n          } else {\r\n            this.user_name = res.data.results[0].user_name;\r\n            // localStorage.setItem('user_name', this.user_name);\r\n          }\r\n\r\n          // 頁面初次加載時滾動到底部\r\n          setTimeout(() => {\r\n            this.$nextTick(() => {\r\n              this.activeProgress = false;\r\n              this.activeKey += 1;\r\n              const chatWindow = this.$refs.chatWindow;\r\n              if (chatWindow) {\r\n                chatWindow.scrollTop = chatWindow.scrollHeight;\r\n              }\r\n            });\r\n          },1000)\r\n          \r\n        })\r\n        .catch((err) => {\r\n          this.detectError = true;\r\n          // setTimeout(() => {\r\n          //   this.$router.push({ name: 'chat-list' });\r\n          // }, 500);\r\n          console.error(err);\r\n        });\r\n    },\r\n\r\n    infiniteHandler($state) {\r\n      let userId\r\n      let fetch_user_id\r\n      const getJWTData = JSON.parse(localStorage.getItem('mackay'));\r\n      if (this.userProfile.super_user){\r\n         fetch_user_id = this.storeUserId\r\n      }else {\r\n         fetch_user_id = this.userProfile.id\r\n      }\r\n      if (fetch_user_id) {\r\n        userId = fetch_user_id\r\n      }else {\r\n        userId = getJWTData.user_id\r\n      }\r\n      if (!this.preloader) {\r\n        axios.get(GET_API_URL, {\r\n          params: {\r\n            user_id: userId,\r\n            page: this.page,\r\n            size: 3\r\n          },\r\n        }).then(( res ) => {\r\n          // console.log(JSON.stringify(res.data.results));\r\n          // console.log(res.data.count);\r\n          if (!res.data.results.length) {\r\n            $state.complete();\r\n          } else {\r\n            console.log('infiniteHandler', this.page);\r\n            this.messages.unshift(...res.data.results.slice().reverse());\r\n\r\n            this.page += 1;\r\n            $state.loaded();\r\n          }\r\n          // if (res.data.count) {\r\n          //   this.page += 1;\r\n          //   this.messages.unshift(res.data.results.slice());\r\n          //   $state.loaded();\r\n          // } else {\r\n          //   $state.complete();\r\n          // }\r\n        });\r\n      }\r\n      \r\n    },\r\n    // 發送訊息並用 axios 將資料 POST 到資料庫\r\n    sendMessage() {\r\n      let userId\r\n      let fetch_user_id\r\n      const getJWTData = JSON.parse(localStorage.getItem('mackay'));\r\n      if (this.userProfile.super_user){\r\n         fetch_user_id = this.storeUserId\r\n      }else {\r\n         fetch_user_id = this.userProfile.id\r\n      }\r\n      if (fetch_user_id) {\r\n        userId = fetch_user_id\r\n      }else {\r\n        userId = getJWTData.user_id\r\n      }\r\n      if (this.newMessage.trim() !== '') {\r\n        const user_name = this.userProfile.name || '您';\r\n        const isCarerUser = this.userProfile.super_user === true;\r\n\r\n        const messageData = {\r\n          is_carer_user: isCarerUser,\r\n          user_name: user_name,\r\n          media_url: '',\r\n          content: this.newMessage,\r\n          content_type: 'text',\r\n          isFirstDate: ''\r\n        };\r\n\r\n        // 發送到前端 UI\r\n        this.messages.push(messageData);\r\n        this.newMessage = '';\r\n        // 發送滾動到底部\r\n        this.$nextTick(() => {\r\n          const chatWindow = this.$refs.chatWindow;\r\n          if (chatWindow) {\r\n            chatWindow.scrollTop = chatWindow.scrollHeight;\r\n          }\r\n        });\r\n\r\n        // 發送 POST 請求到後端\r\n        axios.post('http://127.0.0.1:8000/api/chat/control', {\r\n          user_id: userId,\r\n          is_carer_user: isCarerUser,  // 根據 super_user 設置\r\n          content: messageData.content,\r\n          content_type: 'text'\r\n        })\r\n        .then((response) => {\r\n          console.log('Message sent successfully:', response.data);\r\n        })\r\n        .catch((err) => {\r\n          console.error('Error sending message:', err);\r\n        });\r\n      }\r\n    },\r\n    // 開啟圖片彈窗\r\n    openImagePopup(imageUrl) {\r\n      this.selectedImage = imageUrl;\r\n      this.imagePopupVisible = true;\r\n      this.popImgKey += 1\r\n      console.log('openImagePopup', this.imagePopupVisible)\r\n    },\r\n    // 關閉圖片彈窗\r\n    closeImagePopup(value) {\r\n      this.imagePopupVisible = value;\r\n      this.selectedImage = '';\r\n      this.popImgKey += 1\r\n    },\r\n    updateVisible(val) {\r\n      this.imagePopupVisible = val\r\n    },\r\n    openUploadImage() {\r\n      this.uploadImage = true;\r\n      this.uploadImgKey += 1\r\n    },\r\n    closeUploadImage() {\r\n      this.uploadImage = false;\r\n    },\r\n    handleMessageUploaded(messageData) {\r\n      console.log('Message uploaded:', messageData);\r\n      // 在這裡更新 this.messages 陣列\r\n      this.messages.push(messageData);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.chat-container {\r\n  height: calc(100vh - 64px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 0;\r\n}\r\n\r\n.chat-window {\r\n  flex: 1;\r\n  background-color: #fff;\r\n  padding: 0;\r\n  height: calc(100vh - 205px);\r\n  overflow-y: auto;\r\n  position: relative;\r\n}\r\n\r\n\r\n.message-input {\r\n  border-top: 1px solid #eee;\r\n}\r\n\r\n.image-popup {\r\n  background-color: rgba(0, 0, 0, 0.8); \r\n  width: calc(9/12 * 100vw); \r\n  height: 100vh;\r\n  position: relative;\r\n}\r\n\r\n.popup-img {\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n.layout {\r\n  align-items: baseline;\r\n}\r\n.close-btn {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  color: white;\r\n  z-index: 101;\r\n}\r\n.v-btn.send-btn:hover{\r\n  background-color: #fff !important;\r\n}\r\n.v-dialog__content {\r\n  z-index: 100;\r\n}\r\n.infinite-loading-container{\r\n  font-size: 12px;\r\n  color: #ccc;\r\n  margin-top: 15px;\r\n  margin-bottom: 15px;\r\n}\r\n.v-btn.upload-btn{\r\n  height: 55px;\r\n}\r\n/* width */\r\n::-webkit-scrollbar {\r\n  width: 10px;\r\n}\r\n\r\n/* Track */\r\n::-webkit-scrollbar-track {\r\n  background: #f1f1f1; \r\n}\r\n \r\n/* Handle */\r\n::-webkit-scrollbar-thumb {\r\n  background: #888; \r\n}\r\n\r\n/* Handle on hover */\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #555; \r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatWindows.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatWindows.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatWindows.vue?vue&type=template&id=a947bff6&scoped=true\"\nimport script from \"./ChatWindows.vue?vue&type=script&lang=js\"\nexport * from \"./ChatWindows.vue?vue&type=script&lang=js\"\nimport style0 from \"./ChatWindows.vue?vue&type=style&index=0&id=a947bff6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a947bff6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-app>\r\n    <!-- Topbar 區域 -->\r\n    <v-app-bar color=\"main-green\" elevation=\"0\" dense>\r\n      <v-responsive class=\"d-sm-none\">\r\n        <v-app-bar-nav-icon></v-app-bar-nav-icon>\r\n      </v-responsive>\r\n      \r\n        <!-- <v-img src=\"../assets/logo_dr.png\" class=\"main-logo\"></v-img> -->\r\n        <img src=\"../assets/logo_dr.png\" class=\"main-logo\" alt=\"logo\">\r\n      <!-- <header class=\"chat-title text-h6 font-weight-black\">星禾互聯</header> -->\r\n      <v-spacer>\r\n        <template>\r\n          <v-tabs align-with-title background-color=\"transparent\">\r\n            \r\n            <!-- <v-tab v-for=\"items, index in topBarNavList\" class=\"white--text font-weight-bold\" active-class=\"white v-dark2--text font-weight-bold\" :key=\"index\">\r\n              {{ items }}\r\n            </v-tab> -->\r\n            <!-- <v-tab class=\"white--text font-weight-bold\" active-class=\"white v-dark2--text font-weight-bold\">One</v-tab>\r\n            <v-tab class=\"white--text font-weight-bold\" active-class=\"white v-dark2--text font-weight-bold\">Two</v-tab>\r\n            <v-tab class=\"white--text font-weight-bold\" active-class=\"white v-dark2--text font-weight-bold\">Three</v-tab> -->\r\n\r\n          </v-tabs>\r\n        </template>\r\n      </v-spacer>\r\n      <v-menu offset-y>\r\n        <template v-slot:activator=\"{ on, attrs }\">\r\n          <v-btn class=\"dropdown-btn\" v-bind=\"attrs\" v-on=\"on\" rounded color=\"normal\">\r\n            <v-avatar size=\"30\">\r\n              <v-img :src=\"thumb_avatar\"></v-img>\r\n            </v-avatar>\r\n            <span class=\"ml-2\">{{ username }}</span>\r\n            <v-icon right>mdi-chevron-down</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <v-list dense>\r\n          <v-list-item>\r\n            <v-list-item-title class=\"logoutBtn\" @click=\"logout\">log out</v-list-item-title>\r\n          </v-list-item>\r\n        </v-list>\r\n      </v-menu>\r\n    </v-app-bar>\r\n\r\n    <!-- 主內容區塊 -->\r\n    <v-container fluid class=\"fill-height\">\r\n      <v-row>\r\n        <!-- 左側：聊天室區域 -->\r\n        <v-col cols=\"8\" class=\"chat-section\">\r\n          <v-toolbar flat dense class=\"w-100\">\r\n            <!-- <div class=\"d-flex align-center\">\r\n              <v-avatar size=\"30\">\r\n                <v-img src=\"https://cdn.vuetifyjs.com/images/john.jpg\"></v-img>\r\n              </v-avatar>\r\n              <v-toolbar-title class=\"pl-2 text-subtitle-1 font-weight-medium\">照護專員</v-toolbar-title>\r\n            </div> -->\r\n\r\n            <!-- <v-spacer></v-spacer>\r\n            <v-spacer></v-spacer>\r\n            <v-spacer></v-spacer> -->\r\n\r\n            <v-text-field\r\n              v-model=\"searchChat\"\r\n              prepend-icon=\"mdi-magnify\"\r\n              label=\"Search for a chat\"\r\n              dense\r\n              outlined\r\n              color=\"main-green\"\r\n              placeholder=\"Search for a chat\"\r\n              hide-details\r\n              @keyup.enter=\"performSearch\"\r\n              @input=\"onInput\"\r\n            ></v-text-field>\r\n            \r\n            <!-- 搜尋結果列表 -->\r\n            <v-list v-if=\"searchResults.length > 0 || noResults\" class=\"search-results-list\">\r\n              <template v-if=\"searchResults.length > 0\">\r\n                <v-list-item\r\n                  v-for=\"(result, index) in searchResults\"\r\n                  :key=\"index\"\r\n                  @click=\"scrollToMessage(result.index)\"\r\n                >\r\n                  <v-list-item-content>\r\n                    <v-list-item-title>{{ result.content }}</v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n              </template>\r\n\r\n              <!-- 沒有搜尋結果時顯示 -->\r\n              <template v-else>\r\n                <v-list-item>\r\n                  <v-list-item-content>\r\n                    <v-list-item-title>No records found</v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n              </template>\r\n            </v-list>\r\n          </v-toolbar>\r\n          <chat-windows class=\"chatWindows\" ref=\"chatWindows\"></chat-windows>\r\n        </v-col>\r\n\r\n        <!-- 右側：照片列表區域 -->\r\n        <wound-photos\r\n          :albums=\"albums\"\r\n          :current-album.sync=\"currentAlbum\"\r\n          :selected-patient-id=\"userProfile.id\"\r\n          @update:current-album=\"updateCurrentAlbum\"\r\n        ></wound-photos>\r\n      </v-row>\r\n    </v-container>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport ChatWindows from '../components/ChatWindows.vue';\r\nimport WoundPhotos from '../components/WoundPhotos.vue';\r\n\r\nexport default {\r\n  components: {\r\n    ChatWindows,\r\n    WoundPhotos\r\n  },\r\n  data() {\r\n    return {\r\n      username: '使用者',\r\n      thumb_avatar: '',\r\n      searchChat: '', // 搜尋框中的文字\r\n      searchResults: [], // 儲存搜尋結果\r\n      noResults: false, // 用於顯示沒有搜尋結果的訊息\r\n      topBarNavList: ['One', 'Two', 'Three'],\r\n      chatRecord: [],\r\n      albums: [],\r\n      currentAlbum: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    currentPhotos() {\r\n      return this.albums[this.currentAlbum]?.photos || [];\r\n    },\r\n  },\r\n  methods: {\r\n    updateCurrentAlbum(newAlbumIndex) {\r\n      this.currentAlbum = newAlbumIndex;\r\n    },\r\n   \r\n    // 當輸入改變時，更新搜尋結果\r\n    onInput() {\r\n      this.performSearch();\r\n    },\r\n    // 執行搜尋\r\n    performSearch() {\r\n      const searchText = this.searchChat.trim().toLowerCase();\r\n      if (searchText) {\r\n        const results = this.$refs.chatWindows.messages\r\n          .map((msg, index) => ({ content: msg.content, index }))\r\n          .filter((msg) => msg.content.toLowerCase().includes(searchText));\r\n\r\n        if (results.length > 0) {\r\n          this.searchResults = results;\r\n          this.noResults = false;\r\n        } else {\r\n          this.searchResults = [];\r\n          this.noResults = true; // 當沒有搜尋結果時，設置為 true\r\n        }\r\n      } else {\r\n        this.searchResults = [];\r\n        this.noResults = false; // 清除搜尋結果時，隱藏提示\r\n      }\r\n    },\r\n\r\n    // 滾動到指定訊息\r\n    scrollToMessage(index) {\r\n      const chatWindow = this.$refs.chatWindows.$refs.chatWindow; // 獲取 .chat-window 容器\r\n      const chatMessageElements = chatWindow.children; // 獲取所有訊息元素\r\n\r\n      if (chatMessageElements[index]) {\r\n        // 計算目標訊息相對於 chatWindow 的 offsetTop\r\n        const targetMessageTop = chatMessageElements[index].offsetTop;\r\n\r\n        // 使用 scrollTop 進行平滑滾動\r\n        chatWindow.scrollTo({\r\n          top: targetMessageTop,\r\n          behavior: 'smooth'\r\n        });\r\n      }\r\n\r\n      this.searchResults = []; // 清空搜尋結果\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.userProfile.name) {\r\n      this.username = this.userProfile.name;\r\n    }\r\n    if (this.userProfile.thumb) {\r\n      this.thumb_avatar = this.userProfile.thumb;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.v-toolbar__content {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.main-logo{\r\n  height: 100%;\r\n  padding: 10px 0px;\r\n}\r\n.fill-height {\r\n  height: calc(100vh - 48px);\r\n  padding: unset;\r\n}\r\n.container.fill-height > .row{\r\n  height: 100%;\r\n}\r\n\r\n.chat-section {\r\n  border-right: 1px solid #ccc;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n  z-index: 100;\r\n}\r\n.chat-section header {\r\n  z-index: 104;\r\n}\r\n\r\n\r\n.product-section {\r\n  padding: 0;\r\n  height: 100%;\r\n}\r\n\r\n.chat-title {\r\n  padding-left: 10px;\r\n  color: black;\r\n}\r\n\r\n.dropdown-btn {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.search-results-list {\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  background-color: white;\r\n  border: 1px solid #e0e0e0;\r\n  position: absolute;\r\n  top: 47px;;\r\n  z-index: 1003;\r\n  width: 97%;\r\n  border-radius: 4px;\r\n  box-shadow: 0 0 0 5px #555;\r\n}\r\n.logoutBtn{\r\n  cursor: pointer;\r\n  text-align: center;\r\n}\r\n\r\n\r\n/* width */\r\n::-webkit-scrollbar {\r\n  width: 10px;\r\n}\r\n\r\n/* Track */\r\n::-webkit-scrollbar-track {\r\n  background: #f1f1f1; \r\n}\r\n \r\n/* Handle */\r\n::-webkit-scrollbar-thumb {\r\n  background: #888; \r\n}\r\n\r\n/* Handle on hover */\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #555; \r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WoundChat.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WoundChat.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./WoundChat.vue?vue&type=template&id=75bca802&scoped=true\"\nimport script from \"./WoundChat.vue?vue&type=script&lang=js\"\nexport * from \"./WoundChat.vue?vue&type=script&lang=js\"\nimport style0 from \"./WoundChat.vue?vue&type=style&index=0&id=75bca802&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75bca802\",\n  null\n  \n)\n\nexport default component.exports","import './_grid.sass'\n\nimport Grid from './grid'\n\nexport default Grid('layout')\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","'use strict';\nvar $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw new $TypeError('Not enough arguments');\n  return passed;\n};\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar append = uncurryThis(URLSearchParamsPrototype.append);\nvar $delete = uncurryThis(URLSearchParamsPrototype['delete']);\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\nvar push = uncurryThis([].push);\nvar params = new $URLSearchParams('a=1&a=2&b=3');\n\nparams['delete']('a', 1);\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nparams['delete']('b', undefined);\n\nif (params + '' !== 'a=2') {\n  defineBuiltIn(URLSearchParamsPrototype, 'delete', function (name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $delete(this, name);\n    var entries = [];\n    forEach(this, function (v, k) { // also validates `this`\n      push(entries, { key: k, value: v });\n    });\n    validateArgumentsLength(length, 1);\n    var key = toString(name);\n    var value = toString($value);\n    var index = 0;\n    var dindex = 0;\n    var found = false;\n    var entriesLength = entries.length;\n    var entry;\n    while (index < entriesLength) {\n      entry = entries[index++];\n      if (found || entry.key === key) {\n        found = true;\n        $delete(this, entry.key);\n      } else dindex++;\n    }\n    while (dindex < entriesLength) {\n      entry = entries[dindex++];\n      if (!(entry.key === key && entry.value === value)) append(this, entry.key, entry.value);\n    }\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar getAll = uncurryThis(URLSearchParamsPrototype.getAll);\nvar $has = uncurryThis(URLSearchParamsPrototype.has);\nvar params = new $URLSearchParams('a=1');\n\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nif (params.has('a', 2) || !params.has('a', undefined)) {\n  defineBuiltIn(URLSearchParamsPrototype, 'has', function has(name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $has(this, name);\n    var values = getAll(this, name); // also validates `this`\n    validateArgumentsLength(length, 1);\n    var value = toString($value);\n    var index = 0;\n    while (index < values.length) {\n      if (values[index++] === value) return true;\n    } return false;\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\n\nvar URLSearchParamsPrototype = URLSearchParams.prototype;\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\n\n// `URLSearchParams.prototype.size` getter\n// https://github.com/whatwg/url/pull/734\nif (DESCRIPTORS && !('size' in URLSearchParamsPrototype)) {\n  defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {\n    get: function size() {\n      var count = 0;\n      forEach(this, function () { count++; });\n      return count;\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n"],"names":["model","value","dialog","callback","expression","_c","attrs","staticClass","_vm","staticRenderFns","props","showText","String","active","Boolean","data","component","render","scopedSlots","key","fn","_v","on","onInput","searchResults","ref","update:currentAlbum","$event","currentAlbum","detectError","activeKey","slot","isFirstDate","openImagePopup","type","newMessage","$$v","closeUploadImage","class","staticStyle","content_type","messageClass","domProps","media_url","name","is_carer_user","required","user_name","content","computed","contentRegexMatchURL","newContent","urlRegex","matchURL","match","replace","alignmentClass","isSuperUser","$root","userProfile","super_user","watch","uploadImage","fileOnDrag","rawName","showLoading","activeUpload","file","filePreviewSrc","fileTips","showErrorMsg","canUpload","methods","startUpload","userId","getJWTData","JSON","parse","localStorage","getItem","storeUserId","user_id","isCarerUser","formData","FormData","ts","Date","getTime","console","log","append","split","axios","post","headers","then","response","messageData","$emit","catch","err","error","triggerFileInput","$refs","fileInput","click","handleResetInput","$options","handleInputChange","event","target","files","handleUploadFile","_URL","window","URL","webkitURL","img","Image","src","createObjectURL","onload","size","handleDragEnter","preventDefault","handleDragLeave","handleDragDrop","dataTransfer","length","handleChange","handleClose","GET_API_URL","components","ImagePopup","ChatMessage","ProgressLoader","UploadImage","selectedImage","messages","preloader","imagePopupVisible","activeProgress","page","popImgKey","uploadImgKey","infiniteId","created","$route","params","id","fetchMessages","routerRedirectTo404","fetch_user_id","chatRoomId","get","res","count","results","slice","reverse","setTimeout","$nextTick","chatWindow","scrollTop","scrollHeight","infiniteHandler","$state","unshift","loaded","complete","sendMessage","trim","push","imageUrl","closeImagePopup","updateVisible","val","openUploadImage","handleMessageUploaded","ChatWindows","WoundPhotos","username","thumb_avatar","searchChat","noResults","topBarNavList","chatRecord","albums","currentPhotos","photos","updateCurrentAlbum","newAlbumIndex","performSearch","searchText","toLowerCase","chatWindows","map","msg","index","filter","includes","scrollToMessage","chatMessageElements","children","targetMessageTop","offsetTop","scrollTo","top","behavior","mounted","thumb","Grid","TO_STRING_TAG_SUPPORT","isCallable","classofRaw","wellKnownSymbol","TO_STRING_TAG","$Object","Object","CORRECT_ARGUMENTS","arguments","tryGet","it","module","exports","O","tag","result","undefined","callee","makeBuiltIn","defineProperty","descriptor","getter","set","setter","f","test","classof","$String","argument","TypeError","$TypeError","passed","defineBuiltIn","uncurryThis","toString","validateArgumentsLength","$URLSearchParams","URLSearchParams","URLSearchParamsPrototype","prototype","$delete","forEach","$value","this","entries","v","k","entry","dindex","found","entriesLength","enumerable","unsafe","getAll","$has","has","values","DESCRIPTORS","defineBuiltInAccessor","configurable"],"sourceRoot":""}